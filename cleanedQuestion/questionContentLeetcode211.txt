Construct Quad Tree Given matrix grid only We want represent grid with QuadTree Return root QuadTree representing grid QuadTree tree data structure which each internal node has exactly four children Besides each node has two attributes val True if node represents grid False if node represents grid Notice you can assign val True False when isLeaf False both accepted answer isLeaf True if node leaf node on tree False if node has four children class Node public boolean val public boolean isLeaf public Node topLeft public Node topRight public Node bottomLeft public Node bottomRight We can construct QuadTree from twodimensional area using following steps If current grid has same value ie all all set isLeaf True set val value grid set four children Null stop If current grid has different values set isLeaf False set val any value divide current grid into four subgrids as shown photo Recurse for each children with proper subgrid If you want know more about QuadTree you can refer wiki QuadTree format You dont need read this section for solving problem This only if you want understand output format here output represents serialized format QuadTree using level order traversal where null signifies path terminator where no node exists below It very similar serialization binary tree only difference node represented as list If value isLeaf val True we represent it as list if value isLeaf val False we represent it as Example Input grid Output Explanation explanation this example shown below Notice represnts False represents True photo representing QuadTree Example Input grid Output nullnullnullnull Explanation All values grid not same We divide grid into four subgrids topLeft bottomLeft bottomRight each has same value topRight have different values so we divide it into subgrids where each has same value Explanation shown photo below Constraints gridlength gridlength where